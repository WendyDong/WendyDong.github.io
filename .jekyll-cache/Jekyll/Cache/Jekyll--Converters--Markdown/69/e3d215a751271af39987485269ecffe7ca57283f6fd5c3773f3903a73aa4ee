I"ü.<blockquote>
  <p>â€œYeah Itâ€™s leetcode problem. â€</p>

  <p>å¥½ä¹…æ²¡æœ‰åˆ·é¢˜äº†ï¼Œæ˜¨å¤©åˆšåˆšäº¤å®Œijcai2020çš„è®ºæ–‡ï¼Œå¸Œæœ›æˆ‘èƒ½ä¸€æ¬¡è¿‡ï¼è°·æ­Œå†¬ä»¤è¥ä¹Ÿç»“æŸäº†ï¼Œå¸Œæœ›æˆ‘èƒ½æ‹¿åˆ°å®ƒçš„offer, å®ä¹ offerå’Œå¯¹åº”çš„è½¬è´¦offer ï¼ï¼è®¸æ„¿è®¸æ„¿ï¼ï¼ï¼</p>
</blockquote>

<h2 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h2>

<p>ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°åˆ—è¡¨,a1, a2,â€¦ã€ä¸€ä¸ªç›®æ ‡å’ŒS ,ç°åœ¨ä½ æœ‰+ç¬¦å·å’Œ-ç¬¦å·ã€‚å¯¹äºæ¯ä¸€ä¸ªæ•´æ•°,ä»ä¸¤ä¸ªç¬¦å·ä¸­é€‰æ‹©ä¸€ä¸ªä½¿å¾—ä»–ä»¬çš„å’Œä¸ºS, æ‰¾å‡ºå…±æœ‰å¤šå°‘ç§é€‰æ‹©ç¬¦å·çš„æ–¹æ³•ã€‚</p>

<p>You are given a list of non-negative integers, a1, a2, â€¦, an, and a target, S. Now you have 2 symbols <code class="highlighter-rouge">+</code> and <code class="highlighter-rouge">-</code>. For each integer, you should choose one from <code class="highlighter-rouge">+</code> and <code class="highlighter-rouge">-</code> as its new symbol.</p>

<p>Find out how many ways to assign symbols to make sum of integers equal to target S.</p>

<p><strong>Example:</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>Input: nums is [1, 1, 1, 1, 1], S is 3. 
Output: 5
Explanation: 

-1+1+1+1+1 = 3
+1-1+1+1+1 = 3
+1+1-1+1+1 = 3
+1+1+1-1+1 = 3
+1+1+1+1-1 = 3

There are 5 ways to assign symbols to make the sum of nums be target 3.
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Note:</strong></p>

<ol>
  <li>The length of the given array is <strong>positive</strong> and will not exceed <strong>20</strong>.</li>
  <li>The sum of elements in the given array will not exceed <strong>1000</strong>.</li>
  <li>Your output answer is guaranteed to be fitted in a 32-bit integer.</li>
</ol>

<h2 id="é¢˜ç›®åˆ†æ">é¢˜ç›®åˆ†æ</h2>

<p>â€‹	æ‹¿åˆ°è¿™ä¸ªé¢˜å§ï¼Œæœ€ç›´è§‚çš„æƒ³æ³•å°±æ˜¯dfsï¼Œä¸Šæ¥å°±æ˜¯å†™ã€‚ä½†æ˜¯æ—¶é—´å¤æ‚åº¦ä¸ºå¯æ€•çš„2^n ,å› ä¸ºæ‰€æœ‰çš„æƒ…å†µéƒ½è¦éå†åˆ°æœ€åæ‰èƒ½çŸ¥é“å¯¹ä¸å¯¹ã€‚è€Œä¸”æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘çš„æƒ³æ³•æ˜¯åœ¨Sçš„åŸºç¡€ä¸Šä¸æ–­çš„åŠ å‡numsï¼Œæœ€åtargetä¸º0å°±å¥½ã€‚ä¸è¿‡è¿™æ ·ä¼šæœ‰ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œå°±æ˜¯Sæ˜¯ä¸€ä¸ªå·²å°†å°†è¦è¶…å‡ºintèŒƒå›´çš„æ•°å­—ï¼Œä¾‹å¦‚27949949ï¼Œæ­¤æ—¶å†åŠ ä¸Šä¸€ä¸ªæ•°å°±å´©æºƒäº†ã€‚è¿™ä¸ªæ—¶å€™è¦åˆ©ç”¨å¥½noteä¸­1000è¿™ä¸ªä¿¡æ¯ï¼Œä¸èƒ½å†Sçš„åŸºç¡€ä¸Šå åŠ ï¼Œæœ€åçš„targetå°±åº”è¯¥æ˜¯Sã€‚</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">result</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">findTargetSumWays</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">S</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//way1 2^nçš„æš´åŠ›è§£æ³•</span>
        <span class="k">if</span><span class="p">(</span><span class="n">S</span><span class="o">&gt;</span><span class="mi">1000</span><span class="p">){</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">dfs</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="nl">private:</span>    
    <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">S</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">,</span> <span class="kt">int</span> <span class="n">curSum</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">index</span><span class="o">==</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()){</span>
			<span class="k">if</span><span class="p">(</span><span class="n">curSum</span><span class="o">==</span><span class="n">S</span><span class="p">){</span>
				<span class="n">result</span><span class="o">++</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>
        <span class="n">dfs</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">curSum</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">index</span><span class="p">]);</span>
        <span class="n">dfs</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">curSum</span><span class="o">-</span><span class="n">nums</span><span class="p">[</span><span class="n">index</span><span class="p">]);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="dpè§£æ³•">DPè§£æ³•</h2>

<p>DFSçš„é—®é¢˜ä¸€å®šèƒ½è½¬ä¸ºä¸€ä¸ªdpé—®é¢˜ï¼Œå—¯ç°åœ¨å¼€å§‹æ€è€ƒï¼</p>

<p>å¯ä»¥å°†è¿™ä¸ªé¢˜çœ‹æˆæ˜¯ä¸€ä¸ªèƒŒåŒ…é—®é¢˜å»è§£å†³ï¼Œdp[i][j]è¡¨ç¤ºéå†åˆ°ç¬¬iä¸ªnumsæ—¶ï¼Œå’Œä¸ºjçš„æ•°é‡  ç›¸åº”çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º
<code class="highlighter-rouge">dp[i][j]=dp[i-1][j+nums[i]]+dp[i-1][j-nums[i]]</code></p>

<p>æˆ–è€…</p>

<p><code class="highlighter-rouge">dp[i][j+nums[i]]+=dp[i-1][j]  å’Œ dp[i][j-nums[i]]+=dp[i-1][j]</code>
ç”±äºå’Œæœ€å¤§ä¸º1000ï¼Œæ‰€ä»¥å°†S+1000,å…¨éƒ¨å˜æˆæ­£æ•´æ•°ï¼ˆå› ä¸ºæœ‰äº›è¯­è¨€ä¸æ”¯æŒè´Ÿæ•°ï¼Ÿï¼‰</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">findTargetSumWays</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">S</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">resultVec</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span>
        <span class="n">resultVec</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1000</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">resultVec</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1000</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=-</span><span class="mi">1000</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="mi">1000</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
                <span class="k">if</span><span class="p">(</span><span class="n">resultVec</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1000</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span>
                    <span class="n">resultVec</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1000</span><span class="p">]</span><span class="o">+=</span><span class="n">resultVec</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1000</span><span class="p">];</span>
                    <span class="n">resultVec</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1000</span><span class="p">]</span><span class="o">+=</span><span class="n">resultVec</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1000</span><span class="p">];</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">S</span><span class="o">&gt;</span><span class="mi">1000</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="n">resultVec</span><span class="p">[</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">S</span><span class="o">+</span><span class="mi">1000</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="dpå‰ªæ">DP+å‰ªæ</h2>
:ET