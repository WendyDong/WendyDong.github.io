I"ˆ7<blockquote>
  <p>â€œYeah Itâ€™s leetcode problem. â€</p>
</blockquote>

<h2 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h2>

<p>ç»™å®šä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„æ•°ç»„ï¼Œå¯ä»¥äº¤æ¢ä¸¤ä¸ªæ•°ç»„å¯¹åº”ä½ç½®çš„å€¼ï¼Œé—®ï¼šæœ€å°‘éœ€è¦äº¤æ¢å¤šå°‘æ¬¡ï¼Œæ‰èƒ½ä½¿ä¸¤ä¸ªæ•°ç»„éƒ½å®Œå…¨å‡åºï¼ˆç­‰äºéƒ½ä¸è¡Œï¼Œåä¸€ä¸ªç»å¯¹å¤§äºå‰ä¸€ä¸ªï¼‰ï¼ˆä¸€å®šå­˜åœ¨è§£ï¼‰ã€‚è¿™ä¸ªæ˜¯åœ¨åšgoogle onlineçš„æ—¶å€™ç¢°åˆ°çš„é¢˜ç›®ï¼Œä¸€è„¸æ‡µé€¼ï¼Œgoogleçš„é¢˜ç›®æ²¡æœ‰ç»™å®šè¯´ä¸€å®šå­˜åœ¨è§£ï¼Œå¦‚æœè§£ä¸å­˜åœ¨è¦è¿”å›-1ï¼Œåæ¥çœ‹åˆ°leetcodeä¸Šæœ‰ä¸€æ ·çš„é¢˜ç›®ï¼Œæ˜¯ç”¨dpåšçš„ï¼Œè€Œä¸”çœ‹äº†ç­”æ¡ˆéƒ½ä¸å¤ªæ˜ç™½ï¼Œç‰¹æ­¤è®°å½•ã€‚ä¸leetcode1187é¢˜ä¹Ÿç±»ä¼¼ã€‚</p>

<p>Given two integer arrays <code class="highlighter-rouge">arr1</code> and <code class="highlighter-rouge">arr2</code>, return the minimum number of operations (possibly zero) needed to make <code class="highlighter-rouge">arr1</code> strictly increasing.</p>

<p>In one operation, you can choose two indices <code class="highlighter-rouge">0 &lt;= i &lt; arr1.length</code> and <code class="highlighter-rouge">0 &lt;= j &lt; arr2.length</code> and do the assignment <code class="highlighter-rouge">arr1[i] = arr2[j]</code>.</p>

<p>If there is no way to make <code class="highlighter-rouge">arr1</code> strictly increasing, return <code class="highlighter-rouge">-1</code>.</p>

<p><strong>Example:</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>Input: arr1 = [1,5,3,6,7], arr2 = [1,3,2,4]
Output: 1
Explanation: Replace 5 with 2, then arr1 = [1, 2, 3, 6, 7].
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="dp">DP</h2>

<p><img src="/img/leetcode/801-dp.png" alt="image-20191111160555375" /></p>

<p>è¿™ä¸ªé¢˜çš„æ€è·¯æ˜¯è¿™æ ·çš„ï¼Œå‡è®¾æˆ‘ä»¬åˆ¤æ–­åˆ°ç¬¬<code class="highlighter-rouge">i</code>ä¸ªä½ç½®çš„æ—¶å€™ï¼Œå‰é¢<code class="highlighter-rouge">i-1</code>ä¸ªä½ç½®å·²ç»å®Œå…¨å‡åºäº†ï¼Œæ»¡è¶³äº†æˆ‘ä»¬çš„æ¡ä»¶ï¼Œç¬¬<code class="highlighter-rouge">i</code>ä¸ªçš„æ—¶å€™ï¼Œå¦‚æœ<code class="highlighter-rouge">A[i]&gt;A[i-1], B[i]&gt;B[i-1]</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¸äº¤æ¢ã€‚å°±æ˜¯å³ä¸‹è§’çš„æƒ…å†µ1ï¼›å½“ç„¶ä½ ä¹Ÿå¯ä»¥æ¢è¿™ä¸¤ä¸ªæ•°å€¼ï¼Œä½†æ˜¯ä½ è¦æŠŠå‰é¢ä¸€é¡¹ä¹Ÿç»™æ¢äº†ï¼Œæ‰èƒ½ç»§ç»­è¿™ä¸ªæ¡ä»¶ï¼Œå°±æ˜¯æƒ…å†µäºŒï¼›å¦‚æœæ»¡è¶³<code class="highlighter-rouge">A[i]&gt;B[i-1], B[i]&gt;A[i-1]</code>,é‚£ä¹ˆæˆ‘ä»¬è¿˜èƒ½äº¤æ¢<code class="highlighter-rouge">i</code>é¡¹ç›®ï¼Œä½†æ˜¯ä¸äº¤æ¢å‰ä¸€é¡¹ï¼Œå°±æ˜¯æƒ…å†µ3ï¼ŒåŒç†ï¼Œä¸äº¤æ¢è¿™ä¸¤é¡¹ï¼Œåªäº¤æ¢å‰ä¸¤é¡¹ä¹Ÿå¯ä»¥ï¼Œè¿™ä¸ªå¯¹åº”æƒ…å†µ4ã€‚</p>

<p>æ‰€ä»¥æˆ‘ä»¬å°±ä¸èƒ½ç”¨ä¼ ç»Ÿçš„ä¸€ä¸ªæ•°ç»„æ¥ç»´æŠ¤memoæ•°ç»„äº†ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®swapæ•°ç»„å’Œkeepæ•°ç»„ï¼Œswapæ•°ç»„è¡¨ç¤ºäº¤æ¢è¿™ä¸€é¡¹æ—¶ï¼Œæ‰€éœ€è¦çš„æœ€å°‘æ­¥éª¤ï¼Œkeepå°±ä»£è¡¨ä¸äº¤æ¢ï¼Œåœ¨è¿™ä¸ªçš„åŸºç¡€ä¸Šï¼Œå°±æœ‰äº†ä¸Šå›¾å·¦è¾¹çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">minSwap</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">B</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">n</span><span class="o">=</span><span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">){</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">swap</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">INT_MAX</span><span class="p">),</span> <span class="n">keep</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">INT_MAX</span><span class="p">);</span>
        <span class="n">swap</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">keep</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;</span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;</span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]){</span>
                <span class="n">keep</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">keep</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
                <span class="n">swap</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">swap</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>                                
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;</span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;</span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]){</span>
                <span class="n">keep</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">keep</span><span class="p">[</span><span class="n">j</span><span class="p">],</span><span class="n">swap</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>  
                <span class="n">swap</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">swap</span><span class="p">[</span><span class="n">j</span><span class="p">],</span><span class="n">keep</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">min</span><span class="p">(</span><span class="n">swap</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">keep</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œåœ¨ä¸Šé¢çš„ä»£ç é‡Œï¼Œå…¶å®dpè®¡ç®—çš„æ—¶å€™ä¹Ÿåªç”¨åˆ°äº†å‰ä¸€é¡¹ï¼Œæ²¡å¿…è¦ä¿å­˜æ•´ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥å¯ä»¥å†ä¼˜åŒ–ä¸€ä¸‹ç©ºé—´å¤æ‚åº¦ï¼Œä»£ç å¦‚ä¸‹:</p>

<p>æ³¨æ„ swap keepçš„åˆå§‹åŒ–éƒ½æ˜¯åœ¨å¾ªç¯å†…éƒ¨ï¼Œä¸ç„¶keepä¼šä¸€ç›´ä¸º0å“¦ã€‚</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">minSwap</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">B</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">n</span><span class="o">=</span><span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">){</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>        
        <span class="kt">int</span> <span class="n">swap_pre</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">keep_pre</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
            <span class="kt">int</span> <span class="n">swap</span><span class="o">=</span><span class="n">INT_MAX</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="n">INT_MAX</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;</span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;</span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]){</span>
                <span class="n">keep</span><span class="o">=</span><span class="n">keep_pre</span><span class="p">;</span>
                <span class="n">swap</span><span class="o">=</span><span class="n">swap_pre</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>                                
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;</span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;</span><span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]){</span>
                <span class="n">keep</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">keep</span><span class="p">,</span><span class="n">swap_pre</span><span class="p">);</span>  
                <span class="n">swap</span><span class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">swap</span><span class="p">,</span><span class="n">keep_pre</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">keep_pre</span><span class="o">=</span><span class="n">keep</span><span class="p">;</span>
            <span class="n">swap_pre</span><span class="o">=</span><span class="n">swap</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">min</span><span class="p">(</span><span class="n">keep_pre</span><span class="p">,</span><span class="n">swap_pre</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></code></pre></div></div>
:ET